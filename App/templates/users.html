{% extends "layout.html" %}
{% block title %}App Users{% endblock %}
{% block page %}App Users{% endblock %}

{{ super() }}

{% block content %}
    <div class="row">
        <p>
            This table is rendered on the server. Flask gets the data from the database and uses
            Jinja templates to dynamically render this page when a request is sent to
            <a href="/users">/users</a>.
        </p>
    </div>

    <div class="row">
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Role</th>
            <th>Name</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
            <tr>
                <td>{{ user.user_id }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>
                  {% if user.role == 'driver' %}
                    {{ user.name }}
                  {% elif user.role == 'customer' %}
                    {{ user.name }}
                  {% else %}
                    â€”
                  {% endif %}
                </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
{% endblock %}