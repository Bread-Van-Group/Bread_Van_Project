{% extends "driver/layout.html" %} 
{% block title %}Pre Order{% endblock %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/user/preorder.css') }}" />
{% endblock %} 

{% block content %}

<!-- Top Navigation Bar -->
<div class="preorder-header">
  <a class="header-btn" href="{{ url_for('index_views.customer_homepage') }}">
    <span>←</span>
    <span>Back</span>
  </a>
  <h1 class="header-title">Pre Order</h1>
  <a class="header-btn" href="{{ url_for('index_views.customer_cart') }}">Cart</a>
</div>

<div class="page-container">
  
  <!-- Search and Filter Section -->
  <div class="search-filter-section">
    <div class="search-container">
      <label for="search">Search:</label>
      <input type="text" id="search" class="search-input" placeholder="Search items...">
    </div>
    
    <div class="filter-container">
      <span class="filter-label">Filter:</span>
      <button class="filter-btn active" data-category="all">[All]</button>
      <button class="filter-btn" data-category="bread">[Bread]</button>
      <button class="filter-btn" data-category="pastries">[Pastries]</button>
    </div>
  </div>

  <!-- Product Grid -->
  <div class="preorder-grid">
    
    <!-- Product Card 1 -->
    <div class="preorder-card" data-category="bread">
      <div class="product-image">(image)</div>
      <div class="product-name">(name)</div>
      <div class="product-description">(description)</div>
      
      <!-- Quantity Selector -->
      <div class="quantity-selector">
        <button class="qty-btn minus">-</button>
        <input type="number" class="qty-input" value="0" min="0" max="99">
        <button class="qty-btn plus">+</button>
        <span class="qty-label">Quantity</span>
      </div>
      
      <div class="product-availability">(How much of the product available)</div>
    </div>

    <!-- Product Card 2 -->
    <div class="preorder-card" data-category="pastries">
      <div class="product-image">(image)</div>
      <div class="product-name">(name)</div>
      <div class="product-description">(description)</div>
      
      <!-- Quantity Selector -->
      <div class="quantity-selector">
        <button class="qty-btn minus">-</button>
        <input type="number" class="qty-input" value="0" min="0" max="99">
        <button class="qty-btn plus">+</button>
        <span class="qty-label">Quantity</span>
      </div>
      
      <div class="product-availability">(How much of the product available)</div>
    </div>

    <!-- Product Card 3 -->
    <div class="preorder-card" data-category="bread">
      <div class="product-image">(image)</div>
      <div class="product-name">(name)</div>
      <div class="product-description">(description)</div>
      
      <!-- Quantity Selector -->
      <div class="quantity-selector">
        <button class="qty-btn minus">-</button>
        <input type="number" class="qty-input" value="0" min="0" max="99">
        <button class="qty-btn plus">+</button>
        <span class="qty-label">Quantity</span>
      </div>
      
      <div class="product-availability">(How much of the product available)</div>
    </div>

    <!-- Product Card 4 -->
    <div class="preorder-card" data-category="pastries">
      <div class="product-image">(image)</div>
      <div class="product-name">(name)</div>
      <div class="product-description">(description)</div>
      
      <!-- Quantity Selector -->
      <div class="quantity-selector">
        <button class="qty-btn minus">-</button>
        <input type="number" class="qty-input" value="0" min="0" max="99">
        <button class="qty-btn plus">+</button>
        <span class="qty-label">Quantity</span>
      </div>
      
      <div class="product-availability">(How much of the product available)</div>
    </div>

  </div>

  <!-- Continue to Cart Button -->
  <div class="continue-btn-container">
    <a class="continue-btn" href="{{ url_for('index_views.customer_cart') }}">
      Continue to cart
      <span>→</span>
    </a>
  </div>

</div>

<!-- Established Footer -->
<div class="established-footer">
  <h3>LOGO</h3>
</div>

{% endblock %}

{% block scripts %}
<script>
  // Quantity selector functionality
  document.querySelectorAll('.qty-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const input = this.parentElement.querySelector('.qty-input');
      let value = parseInt(input.value);
      
      if (this.classList.contains('plus')) {
        value = Math.min(value + 1, 99);
      } else if (this.classList.contains('minus')) {
        value = Math.max(value - 1, 0);
      }
      
      input.value = value;
    });
  });

  // Search functionality
  const searchInput = document.getElementById('search');
  searchInput.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    document.querySelectorAll('.preorder-card').forEach(card => {
      const name = card.querySelector('.product-name').textContent.toLowerCase();
      const description = card.querySelector('.product-description').textContent.toLowerCase();
      
      if (name.includes(searchTerm) || description.includes(searchTerm)) {
        card.style.display = 'flex';
      } else {
        card.style.display = 'none';
      }
    });
  });

  // Filter functionality
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      // Remove active from all buttons
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      // Add active to clicked button
      this.classList.add('active');
      
      const category = this.dataset.category;
      
      document.querySelectorAll('.preorder-card').forEach(card => {
        if (category === 'all' || card.dataset.category === category) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });
</script>
{% endblock %}